<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Birthday Puzzle ‚Äî Crossword Game</title>
  <style>
    :root {
      --accent:#d946ef;--bg:#0f172a;--card:#0b1220;
      --muted:#94a3b8;color-scheme:dark
    }
    html,body {
      height:100%;margin:0;
      font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial
    }
    body {
      background:linear-gradient(180deg,#07102a 0%, #0b1220 100%);
      color:#e6eef8;display:flex;align-items:flex-start;
      justify-content:center;padding:28px
    }
    .container {
      width:1000px;max-width:100%;
      background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
      border-radius:12px;padding:20px;
      box-shadow:0 8px 30px rgba(2,6,23,0.6)
    }
    header {display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;flex-wrap:wrap;gap:10px}
    h1 {font-size:20px;margin:0}
    .grid-and-clues {display:flex;gap:18px;flex-wrap:wrap}

    /* === FIXED + RESPONSIVE GRID === */
    .grid {
      display:grid;
      grid-template-columns: repeat(15, 32px); /* fixed width per column */
      gap:3px;
      padding:8px;
      background:rgba(255,255,255,0.02);
      border-radius:8px;
      margin:0 auto;              /* center the grid */
      width:max-content;           /* shrink to content */
    }

    .cell {
      width:32px;height:32px;      /* match desktop column size */
      border-radius:6px;
      display:flex;align-items:center;justify-content:center;
      background:rgba(255,255,255,0.02);
      position:relative;box-sizing:border-box;
    }

    .cell input {
      width:100%;height:100%;border:0;
      background:transparent;color:inherit;text-align:center;
      font-weight:700;font-size:16px;
      letter-spacing:1px;text-transform:uppercase;
      caret-color:var(--accent);
    }

    .cell.block {background:#071025}
    .cell .num {font-size:9px;position:absolute;left:3px;top:2px;color:var(--muted);font-weight:700}
    .cell.correct input {color:#10b981}
    .cell.incorrect input {color:#ef4444}

    .clues {flex:1;min-width:260px}
    .clue-list {display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .clue-box {background:rgba(255,255,255,0.02);padding:12px;border-radius:8px}
    label {font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    .btn {display:inline-block;padding:10px 14px;border-radius:8px;background:linear-gradient(90deg,var(--accent),#7c3aed);color:white;border:0;font-weight:700;cursor:pointer}
    .muted {color:var(--muted);font-size:13px}
    .center {text-align:center}
    .hidden {display:none}
    .stage {padding:12px}
    .top-note {font-size:13px;color:var(--muted);margin-bottom:6px}
    footer {margin-top:12px;font-size:13px;color:var(--muted);text-align:center}
    .final-card {padding:18px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent)}

    @media(max-width:920px) {
      .grid-and-clues {flex-direction:column;gap:12px}
      .clue-list {grid-template-columns:1fr}
    }

    @media(max-width:600px) {
      body {padding:14px}
      h1 {font-size:16px}
      .btn {padding:8px 12px;font-size:14px}

      /* smaller cells on mobile */
      .grid {
        grid-template-columns: repeat(15, 24px);
        gap:2px;
      }
      .cell {width:24px;height:24px}
      .cell input {font-size:12px}
      .cell .num {font-size:8px;left:2px;top:1px}
    }
  </style>


</head>
<body>
<div class="container">
  <header>
    <div>
      <h1>Can you solve the puzzle and unlock the details?</h1>
      <div class="top-note">Crossword ‚Üí Final reveal</div>
    </div>
  </header>

  <!-- Stage 1 -->
  <section id="stage-crossword" class="stage">
    <div class="grid-and-clues">
      <div>
        <div class="grid" id="crossword-grid"></div>
        <div id="hint-box" class="muted center" style="margin-top:8px;min-height:20px"></div>
        <div class="center" style="margin-top:8px">
          <button id="check-crossword" class="btn">Check & Continue</button>
          <div id="cw-feedback" class="muted" style="margin-top:8px"></div>
        </div>
      </div>

      <div class="clues">
        <div class="clue-list">
          <div class="clue-box">
            <strong>Across</strong>
            <div style="margin-top:8px">
              <label>4. What did she study for her undergrad?</label>
              <label>6. In which hospital was Nyam born?</label>
              <label>7. What is her favourite bible character?</label>
              <label>9. How many siblings does she have?</label>
              <label>10. How many African countries has she been to?</label>
            </div>
          </div>
          <div class="clue-box">
            <strong>Down</strong>
            <div style="margin-top:8px">
              <label>1. What was her favourite subject in school?</label>
              <label>2. What hobby has she kept since childhood?</label>
              <label>3. What is Nyam's favourite movie?</label>
              <label>5. What topic can she relay lots of random facts about?</label>
              <label>8. What quirky trait does Nyam have?</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Stage 2 -->
  <section id="stage-final" class="stage hidden">
    <div class="final-card center">
      <h2>üéâ You've cracked the code! üéâ</h2>
      <p id="final-text" class="muted" style="max-width:640px;margin:8px auto;line-height:1.5"></p>
      <div style="margin-top:10px">
        <button id="restart" class="btn" style="background:linear-gradient(90deg,#f97316,#ef4444);">Play again</button>
      </div>
    </div>
  </section>

  <footer>Made with ‚ù§Ô∏è.</footer>
</div>

<script>
  const placements = [
    { num:1, dir:'down', word:'MATHS', row:0, col:10, clue:'1. Numbers, equations, and logic ‚Äî her school favorite.' },
    { num:2, dir:'down', word:'READING', row:1, col:6, clue:'2. A lifelong companion, this hobby takes her through countless worlds without leaving the room.' },
    { num:3, dir:'down', word:'GLADIATOR', row:2, col:2, clue:"3. A Ridley Scott epic of gladiators, emperors, and vengeance." },
    { num:4, dir:'across', word:'LAW', row:3, col:2, clue:'4. What professional field involves constitutions, rights, and courtrooms?' },
    { num:5, dir:'down', word:'WILDLIFE', row:3, col:4, clue:'5. She can fill a conversation with random trivia about animals and nature.' },
    { num:6, dir:'across', word:'AGAKHAN', row:3, col:6, clue:'6. Nyam first opened her eyes in a hospital named after a wealthy industrialist and philanthropist.' },
    { num:7, dir:'across', word:'DANIEL', row:6, col:4, clue:'7. This prophet survived a night with lions and is one of her favorite biblical figures.' },
    { num:8, dir:'down', word:'FUNNY', row:8, col:9, clue:'8. People know her for her cheerful spirit and witty sense of humor.' },
    { num:9, dir:'across', word:'TWO', row:9, col:0, clue:'9. Not an only child, not a big family ‚Äî just a pair to share life with.' },
    { num:10, dir:'across', word:'ELEVEN', row:10, col:4, clue:'10. She‚Äôs been to more than a handful of African countries ‚Äî in fact, one short of a dozen.' }
  ];

  const ROWS=13, COLS=13;
  const gridEl=document.getElementById("crossword-grid");
  gridEl.style.gridTemplateColumns=`repeat(${COLS},1fr)`;
  gridEl.style.gridTemplateRows=`repeat(${ROWS},1fr)`;
  const cells=[...Array(ROWS*COLS)].map(()=>({}));

  function idx(r,c){return r*COLS+c;}

  function renderGrid(){
    gridEl.innerHTML="";
    for(let r=0;r<ROWS;r++){
      for(let c=0;c<COLS;c++){
        const div=document.createElement("div");
        div.className="cell block";
        gridEl.appendChild(div);
        cells[idx(r,c)]={r,c,dom:div,expected:null,input:null};
      }
    }
    placements.forEach(p=>{
      for(let i=0;i<p.word.length;i++){
        const r=p.row+(p.dir==='down'?i:0);
        const c=p.col+(p.dir==='across'?i:0);
        const cell=cells[idx(r,c)];
        cell.dom.classList.remove("block");
        if(!cell.input){
          const inp=document.createElement("input");
          inp.maxLength=1;
          inp.addEventListener("input",()=>{inp.value=inp.value.toUpperCase();updateCell(cell,p.word[i]);});
          inp.addEventListener("focus",()=>{document.getElementById("hint-box").textContent=p.clue;});
          inp.addEventListener("blur",()=>{document.getElementById("hint-box").textContent="";});
          cell.dom.appendChild(inp);
          cell.input=inp;
        }
        cell.expected=p.word[i];
        if(i===0){
          const num=document.createElement("div");
          num.className="num";
          num.textContent=p.num;
          cell.dom.appendChild(num);
        }
      }
    });
  }

  function updateCell(cell,letter){
    const val=(cell.input.value||"").toUpperCase();
    cell.dom.classList.remove("correct","incorrect");
    if(!val)return;
    if(val===cell.expected)cell.dom.classList.add("correct");
    else cell.dom.classList.add("incorrect");
  }

  function checkAll(){
    return placements.every(p=>{
      return [...p.word].every((ch,i)=>{
        const r=p.row+(p.dir==='down'?i:0);
        const c=p.col+(p.dir==='across'?i:0);
        const cell=cells[idx(r,c)];
        return cell.input && cell.input.value.toUpperCase()===ch;
      });
    });
  }

  renderGrid();

  document.getElementById("check-crossword").addEventListener("click",()=>{
    if(checkAll()){
      document.getElementById("stage-crossword").classList.add("hidden");
      document.getElementById("stage-final").classList.remove("hidden");
      document.getElementById("final-text").innerHTML = `
  üéâ We celebrate Nyam's 40th! <br>
  üìç Venue: <a href='https://goo.gl/maps/A8tonT2ufkhiXvXj8' target='_blank' style='color:#60a5fa;text-decoration:underline'>Kaizen, Limuru</a><br>
  üìÖ Date: 10th October 2025 <br>
  üïò Time: 9:00AM <br><br>

  üë®‚Äçüë©‚Äçüëß <b>Bring the little explorers</b> ‚Äì kids are more than welcome! <br>
  ü•æüëï <b>Dress for a hike</b> (and don‚Äôt forget a fresh outfit for after the adventure!) <br>
  ‚ú® <b>Come in a full celebratory mood!</b> ‚ú®
`;
    }else{
      document.getElementById("cw-feedback").textContent="Some letters are incorrect.";
    }
  });

  document.getElementById("restart").addEventListener("click",()=>{
    document.querySelectorAll(".cell input").forEach(i=>{i.value="";i.parentElement.classList.remove("correct","incorrect");});
    document.getElementById("stage-crossword").classList.remove("hidden");
    document.getElementById("stage-final").classList.add("hidden");
  });
</script>
</body>
</html>
